---
title: Gateway 3.0.2
---
# Gateway 3.0.2

### General fixes 

- Fixed a race condition when closing connections (i.e. when Gateway detects a broker is removed from the cluster) that was causing restarts/timeouts
- Fix duplicated key exception when rebuilding fetch request with duplicated topics
- FIX NPE when handling expired ApiVersions requests
- Added a check to validate schema registry connection and provide more meaningful errors for schema-based encryption
- Added a check against `defaultAlgorithm` used in the encryption interceptor to ensure it's a valid enum value, and avoid overriding with defaults
- Fixed an issue with `externalStorage` set to `true` in the encryption interceptor that was failing to store headers in a separate internal topic
- Ensure that if the encryption algorithm is changed, a new entry appears in the internal topic used to store headers
- Default namespace is now applied properly on schema-based encryption
- Added support encryption/decryption of AVRO `bytes` and `enums` types
