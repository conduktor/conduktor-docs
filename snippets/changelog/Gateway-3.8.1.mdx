---
title: Gateway 3.8.1
---
# Gateway 3.8.1

- [Conduktor Shield](#conduktor-shield)
   - [Optional compression before encryption when using full payload encryption](#optional-compression-before-encryption-when-using-full-payload-encryption)
- [Bug fixes](#bug-fixes)

### Conduktor Shield

#### Optional compression before encryption when using full payload encryption

Kafka supports compression out of the box but with limited effect when the data is already encrypted. To improve this, Gateway now supports **compressing full payload data before it's encrypted** (when the encryption interceptor is configured).

This new functionality is not enabled by default. To enable it, add the new `compressionType` entry in the encryption interceptor configuration to either 'gzip', 'snappy', 'lz4' or 'zstd'. 

If the full payload encryption is configured for headers, record keys or record values, the respective data will now be compressed before it is encrypted.

[Find out more about encryption configuration](https://docs.conduktor.io/gateway/interceptors/data-security/encryption/encryption-configuration/#encryption-configuration)

### Bug fixes

- When using the alter topic policy interceptor, allow updating only a subset of the enforced configurations.
- Correctly camel case capitalise upsertResult properties in APIV2 responses